---
permalink: sm-storage/how-pools-and-volume-groups-work.html 
sidebar: sidebar 
keywords: SANtricity, System Manager, E-Series, pools, volume group, 
summary: ストレージをプロビジョニングするには、ストレージアレイで使用するハードディスクドライブ（HDD）またはソリッドステートディスク（SSD）ドライブを含むプールまたはボリュームグループを作成します。 
---
= プールとボリュームグループの機能
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
ストレージをプロビジョニングするには、ストレージアレイで使用するハードディスクドライブ（HDD）またはソリッドステートディスク（SSD）ドライブを含むプールまたはボリュームグループを作成します。

物理ハードウェアは、データを整理して簡単に取得できるように、論理コンポーネントにプロビジョニングされます。次の2種類のグループ化がサポートされています。

* プール
* RAIDボリュームグループ


プールとボリュームグループは、ストレージアレイ内の最上位のストレージ単位であり、ドライブの容量を管理可能な分割に分割します。これらの論理区分内には、データが格納される個 々 のボリュームまたはLUNがあります。次の図は、この概念を示しています。

image::../media/sam1130-dwg-volumes-drive-structure-pools-and-volume-groups.gif[sam1130 DWGボリュームは、構造プールとボリュームグループをドライブします]

^1 ^ホストLUN；^2^ボリューム；^3^ボリュームグループまたはプール；^4^ HDDまたはSSDドライブ

ストレージシステムを導入したら、最初に次の方法で使用可能なドライブ容量をさまざまなホストに提供します。

* 十分な容量を備えたプールまたはボリュームグループの作成
* パフォーマンス要件を満たすために必要なドライブ数をプールまたはボリュームグループに追加
* 特定のビジネス要件を満たすために必要なレベルのRAID保護を選択する（ボリュームグループを使用する場合）


同じストレージシステム上にプールまたはボリュームグループを含めることはできますが、1つのドライブを複数のプールまたはボリュームグループに含めることはできません。次に、プールまたはボリュームグループのスペースを使用して、I/O用にホストに提供されるボリュームが作成されます。



== プール

プールは、物理ハードディスクドライブを大きなストレージスペースに集約し、RAID保護を強化するように設計されています。プールに割り当てられたドライブをすべて使用して多数の仮想RAIDセットを作成したり、プールを構成する全ドライブにデータを均等に分散することができます。ドライブを紛失したり追加したりした場合、System Managerによって、アクティブなドライブ全体にわたってデータのリバランシングが動的に行われます。

プール機能はワンランク上のRAIDとして機能します。基盤となるRAIDアーキテクチャが仮想化されるため、リビルド、ドライブ拡張、ドライブ障害への対応といったタスクの処理に最適なパフォーマンスと柔軟性が提供されます。System Managerは、8+2構成（8本のデータディスクと2本のパリティディスク）ではRAIDレベルを自動的に6に設定します。



=== ドライブの一致

プールにはHDDまたはSSDのどちらかを選択できます。ただし、ボリュームグループと同様に、プール内のすべてのドライブで同じテクノロジを使用する必要があります。対象に含めるドライブはコントローラによって自動的に選択されるため、選択したテクノロジに対応する十分な数のドライブがあることを確認する必要があります。



=== 障害ドライブの管理

プールの最小容量は11ドライブですが、ドライブで障害が発生した場合のスペア容量用に1ドライブ分の容量がリザーブされます。この予備容量は「予約済み容量」と呼ばれます。

プールが作成されると、緊急時に使用するために一定量の容量が保持されます。この容量はSystem Managerではドライブ数で表されますが、実際の実装はドライブプール全体に分散されます。デフォルトで保持される容量は、プール内のドライブの数によって決まります。

プールの作成後、予約済み容量の値は増減できます。また、予約済み容量なし（0ドライブ分）に設定することもできます。保持できる最大容量（ドライブ数）は10ですが、プール内のドライブの総数に基づいて、使用可能な容量は少なくなる場合があります。



== ボリュームグループ

ボリュームグループは、ストレージシステム内でボリュームに容量を割り当てる方法を定義します。ディスクドライブはRAIDグループに編成され、ボリュームはRAIDグループ内の複数のドライブにまたがって配置されます。したがって、ボリュームグループの構成設定によって、グループに含まれるドライブと、使用されているRAIDレベルが特定されます。

ボリュームグループを作成すると、グループに含めるドライブがコントローラによって自動的に選択されます。グループのRAIDレベルは手動で選択する必要があります。ボリュームグループの容量は、選択したドライブの合計数にドライブの容量を掛けたものです。



=== ドライブの一致

ボリュームグループ内のドライブのサイズとパフォーマンスを一致させる必要があります。ボリュームグループ内のドライブのサイズが小さい場合は、すべてのドライブが最小容量サイズとして認識されます。ボリュームグループ内に低速のドライブがある場合は、すべてのドライブが最も低速のドライブとして認識されます。これらの要素は、ストレージシステムのパフォーマンスと全体的な容量に影響します。

異なるドライブテクノロジ（HDDドライブとSSDドライブ）を混在させることはできません。RAID 3、5、6は、最大30ドライブまでに制限されています。RAID 1およびRAID 10はミラーリングを使用するため、ディスク数は偶数にする必要があります。



=== 障害ドライブの管理

ボリュームグループに含まれるRAID 1/10、RAID 3、RAID 5、またはRAID 6のボリュームでドライブに障害が発生した場合に備えて、ボリュームグループではホットスペアドライブをスタンバイとして使用します。ホットスペアドライブにはデータは格納されず、ストレージアレイの冗長性が強化されます。

ストレージアレイ内のドライブで障害が発生した場合は、障害が発生したドライブの代わりにホットスペアドライブが自動的に使用されます。物理的に交換する必要はありません。ドライブに障害が発生したときにホットスペアドライブを使用できる場合、コントローラは冗長性データを使用して、障害が発生したドライブからホットスペアドライブにデータを再構築します。
