---
permalink: sm-support/overview-upgrade-center.html 
sidebar: sidebar 
keywords: SANtricity, System Manager, E-Series, upgrade, center 
summary: アップグレードセンターを使用して最新のソフトウェアとファームウェアをダウンロードし、ストレージアレイをアップグレードして最新の機能とバグ修正を入手します。 
---
= アップグレードセンターの概要
:allow-uri-read: 
:experimental: 
:icons: font
:imagesdir: ../media/


[role="lead"]
アップグレードセンターを使用して、最新のソフトウェアとファームウェアをダウンロードし、コントローラとドライブをアップグレードします。



== コントローラのアップグレードの概要

ストレージアレイのソフトウェアとファームウェアをアップグレードして、最新の機能とバグ修正をすべて適用できます。



=== OSコントローラのアップグレードに含まれるコンポーネント

ストレージアレイのコンポーネントには、ときどきアップグレードが必要になるソフトウェアやハードウェアが含まれています。

* *管理ソフトウェア*-- System Managerはストレージ・アレイを管理するソフトウェアです
* * コントローラファームウェア * -- コントローラファームウェアは、ホストとボリューム間の I/O を管理します。
* * コントローラ NVSRAM * -- コントローラ NVSRAM は、コントローラのデフォルト設定を指定するコントローラファイルです。
* * IOM ファームウェア * - I/O モジュール（ IOM ）ファームウェアは、コントローラとドライブシェルフの間の接続を管理します。また、コンポーネントのステータスも監視します。
* * スーパーバイザー・ソフトウェア * -- スーパーバイザー・ソフトウェアは、ソフトウェアが実行されるコントローラ上の仮想マシンです。


image::../media/sam1130-dwg-upgrade-firmware-locations.gif[SA1130 DWGアップグレードファームウェアの場所]

^1コントローラシェルフ；^2^ドライブシェルフ；^3^ソフトウェア、コントローラファームウェア、コントローラNVSRAM、 スーパーバイザーソフトウェア、^4^Driveファームウェア、^5^IOMファームウェア、^6^Driveファームウェア

現在のソフトウェアとファームウェアのバージョンは、[ソフトウェアとファームウェアのインベントリ]ダイアログボックスで確認できます。[Upgrade Center] メニューに移動し、 [* Software and Firmware Inventory] のリンクをクリックします。

アップグレードプロセスの一環として、ホストがコントローラと正しく連携できるように、ホストのマルチパス/フェイルオーバードライバやHBAドライバのアップグレードも必要になる場合があります。該当するかどうかを確認するには、を参照してください https://imt.netapp.com/matrix/#welcome["NetApp Interoperability Matrix Toolで確認できます"^]。



=== I/Oを停止するタイミング

ストレージアレイにコントローラが2台あり、マルチパスドライバがインストールされている場合は、アップグレードの実行中もストレージアレイでI/Oの処理を続行できます。アップグレードでは、コントローラAがすべてのボリュームをコントローラBにフェイルオーバーしてアップグレードされ、ボリュームとコントローラBのすべてのボリュームがテイクバックされてから、コントローラBがアップグレードされます。



=== アップグレード前の健全性チェック

アップグレード前の健常性チェックは、アップグレードプロセスの一環として実行されます。アップグレード前の健常性チェックでは、ストレージアレイのすべてのコンポーネントについて、アップグレードを実行できるかどうかがチェックされます。アップグレードを実行できない状況は次のとおりです。

* 割り当て済みドライブで障害が発生
* ホットスペアを使用中です
* ボリュームグループに不備がある
* 同時に実行できない処理
* ボリュームが見つからない
* コントローラのステータスが最適でない
* イベントログイベントの数が多すぎる
* 構成データベースの検証エラー
* 古いバージョンのDACstoreを搭載したドライブ


アップグレード前の健常性チェックは、アップグレードとは別に実行することもできます。



== ドライブのアップグレードの概要

ドライブファームウェアは、ドライブの下位レベルの動作特性を制御します。新しい機能の追加、パフォーマンスの向上、不具合の修正を目的として、ドライブのメーカーからドライブファームウェアの更新が定期的にリリースされます。



=== ドライブファームウェアのオンラインアップグレードとオフラインアップグレード

ドライブファームウェアのアップグレード方法には、オンラインとオフラインの2種類があります。



==== オンライン

オンラインアップグレードでは、ドライブが一度に1つずつ順番にアップグレードされます。ストレージアレイはアップグレードの実行中もI/Oの処理を継続します。I/Oを停止する必要はありません。オンラインアップグレードが可能なドライブの場合は、自動的にオンライン方式が使用されます。

オンラインアップグレードを実行できるドライブは次のとおりです。

* 最適な状態のプール内のドライブ
* 最適な冗長性が確保されたボリュームグループ内のドライブ（RAID 1、RAID 5、およびRAID 6）
* 未割り当てのドライブ
* スタンバイのホットスペアドライブ


ドライブファームウェアのオンラインアップグレードには数時間かかることがあり、ストレージアレイでボリューム障害が発生する可能性があります。ボリューム障害は、次の場合に発生する可能性があります。

* RAID 1またはRAID 5のボリュームグループで、ボリュームグループ内の別のドライブのアップグレード中に1本のドライブで障害が発生した場合。
* RAID 6のプールまたはボリュームグループで、プールまたはボリュームグループ内の別のドライブのアップグレード中に2本のドライブで障害が発生した場合。




==== オフライン（並行処理）

オフラインアップグレードでは、ドライブタイプが同じすべてのドライブが同時にアップグレードされます。この方法では、選択したドライブに関連付けられているボリュームへのI/Oアクティビティを停止する必要があります。複数のドライブを同時に並行してアップグレードできるため、全体的なダウンタイムは大幅に短縮されます。オフラインアップグレードしか実行できないドライブの場合は、自動的にオフライン方式が使用されます。

次のドライブではオフライン方式を使用する必要があります。

* 非冗長ボリュームグループ内のドライブ（RAID 0）
* 最適な状態でないプールまたはボリュームグループ内のドライブ
* SSDキャッシュ内のドライブ




=== 互換性

各ドライブファームウェアファイルには、ファームウェアが実行されるドライブタイプに関する情報が含まれています。指定したファームウェアファイルは互換性があるドライブにのみダウンロードできます。アップグレードプロセスの実行中に、 System Manager で自動的に互換性がチェックされます。
